<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>三狗子的博客</title>
<meta name=keywords content><meta name=description content="MySQL的连接
// 其中-h和-P是可选的，如果不指定，那么默认就是本机的3306端口
mysql [-h数据库服务器的IP地址 -P端口号] -u用户名 -p密码
MySQL数据模型
关系型数据库：建立在关系模型基础上，由多张相互连接的二维表组成的数据库。"><meta name=author content="冷漠三狗子丶"><link rel=canonical href=https://wqnm1gb.github.io/posts/day05-mysql%E6%95%B0%E6%8D%AE%E5%BA%93/><link crossorigin=anonymous href=/assets/css/stylesheet.3d688279d829dc24da48acd11f9e33ebea2f39c035e899e1bf4297d8b7aa89b9.css integrity="sha256-PWiCedgp3CTaSKzRH54z6+ovOcA16Jnhv0KX2Leqibk=" rel="preload stylesheet" as=style><link rel=icon href=https://wqnm1gb.github.io/images/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://wqnm1gb.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wqnm1gb.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://wqnm1gb.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://wqnm1gb.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://wqnm1gb.github.io/posts/day05-mysql%E6%95%B0%E6%8D%AE%E5%BA%93/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel=stylesheet><script type=text/javascript async src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["[[","]]"]],processEscapes:!0,processEnvironments:!0,skipTags:["script","noscript","style","textarea","pre"],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}}),MathJax.Hub.Queue(function(){var e,t=MathJax.Hub.getAllJax();for(e=0;e<t.length;e+=1)t[e].SourceElement().parentNode.className+=" has-jax"})</script><style>code.has-jax{font:inherit;font-size:100%;background:inherit;border:inherit;color:#515151}</style><meta property="og:title" content><meta property="og:description" content="MySQL的连接
// 其中-h和-P是可选的，如果不指定，那么默认就是本机的3306端口
mysql [-h数据库服务器的IP地址 -P端口号] -u用户名 -p密码
MySQL数据模型
关系型数据库：建立在关系模型基础上，由多张相互连接的二维表组成的数据库。"><meta property="og:type" content="article"><meta property="og:url" content="https://wqnm1gb.github.io/posts/day05-mysql%E6%95%B0%E6%8D%AE%E5%BA%93/"><meta property="og:image" content="https://wqnm1gb.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="og:site_name" content="三狗子的博客"><meta property="fb:admins" content="your-facebook-admin-id"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wqnm1gb.github.io/posts/"},{"@type":"ListItem","position":2,"name":"","item":"https://wqnm1gb.github.io/posts/day05-mysql%E6%95%B0%E6%8D%AE%E5%BA%93/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"","name":"","description":"MySQL的连接\n// 其中-h和-P是可选的，如果不指定，那么默认就是本机的3306端口 mysql [-h数据库服务器的IP地址 -P端口号] -u用户名 -p密码 MySQL数据模型 关系型数据库：建立在关系模型基础上，由多张相互连接的二维表组成的数据库。\n","keywords":[],"articleBody":"MySQL的连接\n// 其中-h和-P是可选的，如果不指定，那么默认就是本机的3306端口 mysql [-h数据库服务器的IP地址 -P端口号] -u用户名 -p密码 MySQL数据模型 关系型数据库：建立在关系模型基础上，由多张相互连接的二维表组成的数据库。\n特点：\n• 使用表存储数据，格式统一，便于维护。\n• 使用SQL语言操作，标准统一，使用方便，可用于复杂查询。\n![](Day05 MySQL数据库.assets/1732496370686-7615238e-72a4-479d-adfd-d2c67467cfaf.png)\nSQL语句 SQL：一门操作关系型数据库的编程语言，定义操作所有关系型数据库的统一标准。\n分类：\n分类 全称 说明 DDL Data Definition Language 数据定义语言，用来定义数据库对象(数据库，表，字段) DML Data Manipulation Language 数据操作语言，用来对数据库表中的数据进行增删改 DQL Data Query Language 数据查询语言，用来查询数据库中表的记录 DCL Data Control Language 数据控制语言，用来创建数据库用户、控制数据库的访问权限 DDL-数据库 操作语法 -- 查询所有数据库 show databases; -- 查询当前数据库 select database(); -- 使用/切换数据库 use 数据库名; -- 创建数据库 create database [if not exists] 数据库名 [default charset utf8mb4]; -- 删除数据库 drop database [if exists] 数据库名; 上述语法中的database，也可以替换成 schema。如：create schema db01；MySQL8版本中，默认字符集为utf8mb4。\n在同一个数据库服务器中，数据库的名字不可以相同\nDDL-表结构 创建表的语法 create table tablename( 字段1 字段类型 [约束] [comment 字段1注释], ...... 字段2 字段类型 [约束] [comment 字段2注释] )[comment 表注释]; 约束：约束是作用于表中字段上的规则，用于限制存储在表中的数据。\n目的：保证数据库中数据的正确性、有效性和完整性。\n常见的约束 约束 描述 关键字 非空约束 限制该字段值不能为null not null 唯一约束 保证字段的所有数据都是唯一、不重复的 unique 主键约束 主键是一行数据的唯一标识，要求非空且唯一 primary key 默认约束 保存数据时，如果未指定该字段值，则采用默认值 default 外键约束 让两张表的数据建立连接，保证数据的一致性和完整性 foreign key 一张表中最多只能有一个主键，一个字段可以有多个约束，只需要在约束中用空格分开即可\n自动增长的关键字是auto_increment\n自动增长的主键指定了值是最大的，会从最大的值之后开始自动增长，避免从小的值开始增长遇到大的值之后重复\n数据类型 数值类型：\n类型 大小(byte) 有符号(SIGNED)范围 无符号(UNSIGNED)范围 描述 备注 tinyint 1 (-128，127) (0，255) 小整数值 smallint 2 (-32768，32767) (0，65535) 大整数值 mediumint 3 (-8388608，8388607) (0，16777215) 大整数值 int 4 (-2147483648，2147483647) (0，4294967295) 大整数值 bigint 8 (-2^63，2^63-1) (0，2^64-1) 极大整数值 float 4 (-3.402823466 E+38，3.402823466351 E+38) 0 和 (1.175494351 E-38，3.402823466 E+38) 单精度浮点数值 float(5,2)：5表示整个数字长度，2 表示小数位个数 double 8 (-1.7976931348623157 E+308，1.7976931348623157 E+308) 0 和 (2.2250738585072014 E-308，1.7976931348623157 E+308) 双精度浮点数值 double(5,2)：5表示整个数字长度，2 表示小数位个数 decimal 小数值(精度更高) decimal(5,2)：5表示整个数字长度，2 表示小数位个数 数值类型的选取原则: 在满足业务需求的前提下, 尽可能选择占用磁盘空间小的数据类型\n字符串类型：\n类型 大小 描述 char 0-255 bytes 定长字符串 varchar 0-65535 bytes 变长字符串 tinyblob 0-255 bytes 不超过255个字符的二进制数据 tinytext 0-255 bytes 短文本字符串 blob 0-65 535 bytes 二进制形式的长文本数据 text 0-65 535 bytes 长文本数据 mediumblob 0-16 777 215 bytes 二进制形式的中等长度文本数据 mediumtext 0-16 777 215 bytes 中等长度文本数据 longblob 0-4 294 967 295 bytes 二进制形式的极大文本数据 longtext 0-4 294 967 295 bytes 极大文本数据 char定长字符串，char(10) 存储A，也会占用10个空间，其他地方用空来占用\nblob存放二进制文件，音频视频等内容，但是一般用的比较少，一般用专门的文件存储系统来管理\ntext存放文本字符串\n校验最少字段（最少需要多少个字段），需要在前端进行校验，数据库能校验字段是不是超了\n日期类型：\n类型 大小****(byte) 范围 格式 描述 date 3 1000-01-01 至 9999-12-31 YYYY-MM-DD 日期值 time 3 -838:59:59 至 838:59:59 HH:MM:SS 时间值或持续时间 year 1 1901 至 2155 YYYY 年份值 datetime 8 1000-01-01 00:00:00 至 9999-12-31 23:59:59 YYYY-MM-DD HH:MM:SS 混合日期和时间值 timestamp 4 1970-01-01 00:00:01 至 2038-01-19 03:14:07 YYYY-MM-DD HH:MM:SS 混合日期和时间值，时间戳 timestamp存放到2038年为止，时间快到了，所以用的比较少\n-- 案例：设计员工表 create table emp( id int unsigned primary key auto_increment comment 'id 主键', username varchar(20) not null unique comment '用户名', password varchar(32) default '123456' comment '密码', name varchar(10) not null comment '姓名', gender tinyint unsigned not null comment '性别 男：1 女：2', phone char(11) not null unique comment '手机号码', job tinyint unsigned comment '职位 1 班主任 2 讲师 3 学工主管 4 教研主管 5 咨询师', salary int unsigned comment '薪资', entry_date date comment '入职日期', image varchar(255) comment '头像', creat_time datetime comment '创建日期', update_time datetime comment '更新日期' ) comment '员工表'; 表中一般都要有的基础字段\n基础字段（id，creat_time，update_time）\n密码一般设置成32字节是因为进行md5加密之后固定是32字节\n查询、修改、删除 show tables; -- 查询当前数据库的所有表 desc 表名; -- 查询表结构 show create table 表名; -- 查询建表语句 alter table 表名 add 字段名 类型(长度) [comment 注释] [约束]; -- 添加字段 alter table 表名 modify 字段名 新数据类型(长度); -- 修改字段类型 alter table 表名 change 旧字段名 新字段名 类型(长度) [comment 注释] [约束]; -- 修改字段名与字段类型 alter table 表名 drop column 字段名; -- 删除字段 alter table 表名 rename to 新表名; -- 修改表名 drop table [if exists] 表名; -- 删除表 删除之后，表中的数据也都会被删除 DML-对表中的数据记录进行增删改 insert语句 -- 指定字段添加数据 insert into 表名(字段名1, 字段名2) values (值1, 值2); -- 全部字段添加数据 insert into 表名 values (值1, 值2, ...); -- 批量添加数据（指定字段） insert into 表名 (字段名1, 字段名2) values (值1, 值2), (值1, 值2); -- 批量添加数据（全部字段） insert into 表名 values (值1, 值2, ...), (值1, 值2, ...); 主键如果会自增，在插入数据的时候可以给他一个null，这样在插入之后就会自增\n当前时间可以用自带的函数now()获取\n日期和字符串推荐用单引号括起来，但是使用双引号也是可以的\n• 插入数据时，指定的字段顺序需要与值的顺序是—对应的。\n• 字符串和日期型数据应该包含在引号中（单引号、双引号都可以）。\n• 插入的数据大小/长度，应该在字段的规定范围内。\nupdate语句 如果要更改多个字段，中间需要用,隔开，不是用的and\n-- 修改数据 update 表名 set 字段名1 = 值1 , 字段名2 = 值2 , .... [ where 条件 ] ; 修改语句的条件可以有，也可以没有，如果没有条件，则会修改整张表的所有数据\ndelete语句 -- 删除数据 delete from 表名 [where 条件]; DELETE 语句的条件可以有，也可以没有，如果没有条件，则会删除整张表的所有数据。\nDELETE 语句不能删除某一个字段的值（如果要操作，可以使用UPDATE，将该字段的值置为NULL），一次就要删一行的数据\nDQL-查询语句 完整的DQL语法：\n![](Day05 MySQL数据库.assets/1732669744154-b03c8b0b-8ba5-4005-9bda-1797c4a08bbd.png)\nDQL-基本查询 -- 查询多个字段 select 字段1,字段2,字段3 from 表名; -- 查询所有字段(通配符) select * from 表名; -- 为查询字段设置别名，as关键字可以省略 select 字段1 [as 别名1], 字段2 [as 别名2] from 表名; -- 去除重复记录 select distinct 字段列表 from 表名; 号代表查询所有字段，在实际开发中尽量少用（不直观、影响效率）。 把所有字段罗列出来的查询方法在项目中比较常用，因为效率比较高，*的话没那么常用\nas取别名的时候，有一种情况需要加引号，就是中间有空格，‘姓 名’这种别名的时候需要加引号\nDQL-条件查询 -- 条件查询 select 字段列表 from 表名 where 条件列表 ; 比较运算符 功能 \u003e 大于 \u003e= 大于等于 «/font\u003e 小于 \u003c= 小于等于 = 等于 \u003c\u003e 或 != 不等于 between … and … 在某个范围之内(含最小、最大值) in(…) 在in之后的列表中的值，多选一 like 占位符 模糊匹配(_匹配单个字符, %匹配任意个字符0或者多个) is null 是null in(…)多选一的关系，只要满足其中的一个，就是符合条件的\nbetween and 既包含最小值又包含最大值，and之前要写最小值，and之后写最大值\n%代表任意个字符，可以是0个也可以是多个\n逻辑运算符 功能 and 或 \u0026\u0026 并且 (多个条件同时成立) or 或 not 或 ! 非 , 不是 DQL-分组查询 聚合函数：将一列数据作为一个整体，进行纵向计算，所以里边的参数可以写的是列名\n函数 功能 count 统计数量 max 最大值 min 最小值 avg 平均值 sum 求和 所有的聚合函数**不参与null值**的统计\ncount(*)就是统计表中的总数据量\ncount(常量例如1) 表示的含义，就是说统计出来一条数据就会标识成为1，最后统计1的数量\n优先使用count(*)，底层做了优化，性能最高\n-- 分组查询 select 字段列表 from 表名 [where 条件列表] group by 分组字段名 [having 分组后过滤条件]; where与having的区别：\n1．执行时机不同：where是分组之前进行过滤，不满足where条件，不参与分组；而having是分组之后对结果进行过滤。\n2． 判断条件不同：where不能对聚合函数进行判断，而having可以。\n其他注意：\n1.分组之后，查询的字段一般为聚合函数和分组字段，查询其他字段无任何意义。\n注意：分组之后，select后的字段列表就不能随意再写了，能写的一般是分组字段+聚合函数\nwhere后不能接着聚合函数\n2.执行顺序：where \u003e 聚合函数 \u003ehaving。\nDQL-排序查询 -- 排序查询 select 字段列表 from 表名 [where 条件列表] [group by 分组字段名 having 分组后过滤条件] order by 排序字段 排序方式; 排序方式：升序（asc），降序（desc）；默认为升序asc，是可以不写的。\n如果是多字段排序，当第一个字段值相同时，才会根据第二个字段进行排序。\nDQL-分页查询 -- 排序查询 select 字段 from 表名 [where 条件] [group by 分组字段 having 过滤条件] [order by 排序字段] limit 起始索引,查询记录数; 说明：\n1.起始索引从0开始。\n2.分页查询是数据库的方言，不同的数据库有不同的实现，MySQL中是LIMIT。\n3.如果起始索引为0，起始索引可以省略，直接简写为 limit 10。\n开发中传递进来的是页码\n起始索引 = （页码-1）*每页展示记录数\n","wordCount":"4216","inLanguage":"zh","image":"https://wqnm1gb.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"冷漠三狗子丶"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wqnm1gb.github.io/posts/day05-mysql%E6%95%B0%E6%8D%AE%E5%BA%93/"},"publisher":{"@type":"Organization","name":"三狗子的博客","logo":{"@type":"ImageObject","url":"https://wqnm1gb.github.io/images/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wqnm1gb.github.io/ accesskey=h title="主页 (Alt + H)"><img src=https://wqnm1gb.github.io/apple-touch-icon.png alt aria-label=logo height=35>主页</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wqnm1gb.github.io/ title=三狗子的博客><span>首页</span></a></li><li><a href=https://wqnm1gb.github.io/archives/ title=归档><span>归档</span></a></li><li><a href=https://wqnm1gb.github.io/categories/ title=Categories><span>分类</span></a></li><li><a href=https://wqnm1gb.github.io/tags/ title=Tags><span>标签</span></a></li><li><a href=https://wqnm1gb.github.io/search/ title=搜索><span>搜索</span></a></li><li><a href=https://wqnm1gb.github.io/about/ title=关于><span>关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wqnm1gb.github.io/>主页</a>&nbsp;»&nbsp;<a href=https://wqnm1gb.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent"></h1><div class=post-meta>9 分钟&nbsp;·&nbsp;4216 字&nbsp;·&nbsp;冷漠三狗子丶</div></header><div class=post-content><p>MySQL的连接</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>// 其中-h和-P是可选的，如果不指定，那么默认就是本机的3306端口
</span></span><span class=line><span class=cl>mysql [-h数据库服务器的IP地址 -P端口号] -u用户名 -p密码
</span></span></code></pre></div><h1 id=mysql数据模型>MySQL数据模型<a hidden class=anchor aria-hidden=true href=#mysql数据模型>#</a></h1><p>关系型数据库：建立在关系模型基础上，由多张相互连接的二维表组成的数据库。</p><p>特点：</p><p>• 使用表存储数据，格式统一，便于维护。</p><p>• 使用SQL语言操作，标准统一，使用方便，可用于复杂查询。</p><p>![](Day05 MySQL数据库.assets/1732496370686-7615238e-72a4-479d-adfd-d2c67467cfaf.png)</p><h1 id=sql语句>SQL语句<a hidden class=anchor aria-hidden=true href=#sql语句>#</a></h1><p>SQL：一门操作关系型数据库的编程语言，定义操作所有关系型数据库的统一标准。</p><p>分类：</p><table><thead><tr><th style=text-align:center><strong>分类</strong></th><th><strong>全称</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td style=text-align:center><strong>DDL</strong></td><td>Data Definition Language</td><td>数据定义语言，用来定义数据库对象(数据库，表，字段)</td></tr><tr><td style=text-align:center><strong>DML</strong></td><td>Data Manipulation Language</td><td>数据操作语言，用来对数据库表中的数据进行增删改</td></tr><tr><td style=text-align:center><strong>DQL</strong></td><td>Data Query Language</td><td>数据查询语言，用来查询数据库中表的记录</td></tr><tr><td style=text-align:center><strong>DCL</strong></td><td>Data Control Language</td><td>数据控制语言，用来创建数据库用户、控制数据库的访问权限</td></tr></tbody></table><h2 id=ddl-数据库>DDL-数据库<a hidden class=anchor aria-hidden=true href=#ddl-数据库>#</a></h2><h3 id=操作语法>操作语法<a hidden class=anchor aria-hidden=true href=#操作语法>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 查询所有数据库
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>show</span><span class=w> </span><span class=n>databases</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 查询当前数据库
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=k>database</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 使用/切换数据库
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>use</span><span class=w> </span><span class=err>数据库名</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 创建数据库
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>database</span><span class=w> </span><span class=p>[</span><span class=k>if</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>exists</span><span class=p>]</span><span class=w> </span><span class=err>数据库名</span><span class=w> </span><span class=p>[</span><span class=k>default</span><span class=w> </span><span class=n>charset</span><span class=w> </span><span class=n>utf8mb4</span><span class=p>];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 删除数据库
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>drop</span><span class=w> </span><span class=k>database</span><span class=w> </span><span class=p>[</span><span class=k>if</span><span class=w> </span><span class=k>exists</span><span class=p>]</span><span class=w> </span><span class=err>数据库名</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p>上述语法中的database，也可以替换成 schema。如：create schema db01；MySQL8版本中，默认字符集为utf8mb4。</p><p>在同一个数据库服务器中，数据库的名字不可以相同</p><h2 id=ddl-表结构>DDL-表结构<a hidden class=anchor aria-hidden=true href=#ddl-表结构>#</a></h2><h3 id=创建表的语法>创建表的语法<a hidden class=anchor aria-hidden=true href=#创建表的语法>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>tablename</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=err>字段</span><span class=mi>1</span><span class=w> </span><span class=err>字段类型</span><span class=w> </span><span class=p>[</span><span class=err>约束</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>comment</span><span class=w> </span><span class=err>字段</span><span class=mi>1</span><span class=err>注释</span><span class=p>],</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>......</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=err>字段</span><span class=mi>2</span><span class=w> </span><span class=err>字段类型</span><span class=w> </span><span class=p>[</span><span class=err>约束</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>comment</span><span class=w> </span><span class=err>字段</span><span class=mi>2</span><span class=err>注释</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)[</span><span class=k>comment</span><span class=w> </span><span class=err>表注释</span><span class=p>];</span><span class=w>
</span></span></span></code></pre></div><p>约束：约束是作用于表中字段上的规则，用于限制存储在表中的数据。</p><p>目的：保证数据库中数据的正确性、有效性和完整性。</p><h3 id=常见的约束>常见的约束<a hidden class=anchor aria-hidden=true href=#常见的约束>#</a></h3><table><thead><tr><th style=text-align:center><strong>约束</strong></th><th><strong>描述</strong></th><th><strong>关键字</strong></th></tr></thead><tbody><tr><td style=text-align:center>非空约束</td><td>限制该字段值不能为null</td><td>not null</td></tr><tr><td style=text-align:center>唯一约束</td><td>保证字段的所有数据都是唯一、不重复的</td><td>unique</td></tr><tr><td style=text-align:center>主键约束</td><td>主键是一行数据的唯一标识，要求非空且唯一</td><td>primary key</td></tr><tr><td style=text-align:center>默认约束</td><td>保存数据时，如果未指定该字段值，则采用默认值</td><td>default</td></tr><tr><td style=text-align:center>外键约束</td><td>让两张表的数据建立连接，保证数据的一致性和完整性</td><td>foreign key</td></tr></tbody></table><p>一张表中最多只能有一个主键，一个字段可以有多个约束，只需要在约束中用空格分开即可</p><p>自动增长的关键字是auto_increment</p><p>自动增长的主键指定了值是最大的，会从最大的值之后开始自动增长，避免从小的值开始增长遇到大的值之后重复</p><h3 id=数据类型>数据类型<a hidden class=anchor aria-hidden=true href=#数据类型>#</a></h3><p><strong>数值类型：</strong></p><table><thead><tr><th><strong>类型</strong></th><th style=text-align:center><strong>大小(byte)</strong></th><th><strong>有符号(SIGNED)范围</strong></th><th><strong>无符号(UNSIGNED)范围</strong></th><th><strong>描述</strong></th><th><strong>备注</strong></th></tr></thead><tbody><tr><td>tinyint</td><td style=text-align:center>1</td><td>(-128，127)</td><td>(0，255)</td><td>小整数值</td><td></td></tr><tr><td>smallint</td><td style=text-align:center>2</td><td>(-32768，32767)</td><td>(0，65535)</td><td>大整数值</td><td></td></tr><tr><td>mediumint</td><td style=text-align:center>3</td><td>(-8388608，8388607)</td><td>(0，16777215)</td><td>大整数值</td><td></td></tr><tr><td>int</td><td style=text-align:center>4</td><td>(-2147483648，2147483647)</td><td>(0，4294967295)</td><td>大整数值</td><td></td></tr><tr><td>bigint</td><td style=text-align:center>8</td><td>(-2^63，2^63-1)</td><td>(0，2^64-1)</td><td>极大整数值</td><td></td></tr><tr><td>float</td><td style=text-align:center>4</td><td>(-3.402823466 E+38<strong>，</strong>3.402823466351 E+38)</td><td>0 和 (1.175494351 E-38，3.402823466 E+38)</td><td>单精度浮点数值</td><td>float(5,2)：5表示整个数字长度，2 表示小数位个数</td></tr><tr><td>double</td><td style=text-align:center>8</td><td>(-1.7976931348623157 E+308，1.7976931348623157 E+308)</td><td>0 和 (2.2250738585072014 E-308，1.7976931348623157 E+308)</td><td>双精度浮点数值</td><td>double(5,2)：5表示整个数字长度，2 表示小数位个数</td></tr><tr><td>decimal</td><td style=text-align:center></td><td></td><td></td><td>小数值(精度更高)</td><td>decimal(5,2)：5表示整个数字长度，2 表示小数位个数</td></tr></tbody></table><p><strong>数值类型的选取原则: 在满足业务需求的前提下, 尽可能选择占用磁盘空间小的数据类型</strong></p><hr><p><strong>字符串类型：</strong></p><table><thead><tr><th><strong>类型</strong></th><th><strong>大小</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><strong>char</strong></td><td>0-255 bytes</td><td>定长字符串</td></tr><tr><td><strong>varchar</strong></td><td>0-65535 bytes</td><td>变长字符串</td></tr><tr><td>tinyblob</td><td>0-255 bytes</td><td>不超过255个字符的二进制数据</td></tr><tr><td>tinytext</td><td>0-255 bytes</td><td>短文本字符串</td></tr><tr><td>blob</td><td>0-65 535 bytes</td><td>二进制形式的长文本数据</td></tr><tr><td>text</td><td>0-65 535 bytes</td><td>长文本数据</td></tr><tr><td>mediumblob</td><td>0-16 777 215 bytes</td><td>二进制形式的中等长度文本数据</td></tr><tr><td>mediumtext</td><td>0-16 777 215 bytes</td><td>中等长度文本数据</td></tr><tr><td>longblob</td><td>0-4 294 967 295 bytes</td><td>二进制形式的极大文本数据</td></tr><tr><td>longtext</td><td>0-4 294 967 295 bytes</td><td>极大文本数据</td></tr></tbody></table><hr><p>char定长字符串，char(10) 存储A，也会占用10个空间，其他地方用空来占用</p><p>blob存放二进制文件，音频视频等内容，但是一般用的比较少，一般用专门的文件存储系统来管理</p><p>text存放文本字符串</p><p>校验最少字段（最少需要多少个字段），需要在前端进行校验，数据库能校验字段是不是超了</p><p><strong>日期类型：</strong></p><table><thead><tr><th><strong>类型</strong></th><th style=text-align:center><strong>大小****(byte)</strong></th><th><strong>范围</strong></th><th><strong>格式</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><strong>date</strong></td><td style=text-align:center>3</td><td>1000-01-01 至 9999-12-31</td><td>YYYY-MM-DD</td><td>日期值</td></tr><tr><td>time</td><td style=text-align:center>3</td><td>-838:59:59 至 838:59:59</td><td>HH:MM:SS</td><td>时间值或持续时间</td></tr><tr><td>year</td><td style=text-align:center>1</td><td>1901 至 2155</td><td>YYYY</td><td>年份值</td></tr><tr><td><strong>datetime</strong></td><td style=text-align:center>8</td><td>1000-01-01 00:00:00 至 9999-12-31 23:59:59</td><td>YYYY-MM-DD HH:MM:SS</td><td>混合日期和时间值</td></tr><tr><td>timestamp</td><td style=text-align:center>4</td><td>1970-01-01 00:00:01 至 2038-01-19 03:14:07</td><td>YYYY-MM-DD HH:MM:SS</td><td>混合日期和时间值，时间戳</td></tr></tbody></table><p>timestamp存放到2038年为止，时间快到了，所以用的比较少</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 案例：设计员工表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>emp</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>id</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=w> </span><span class=n>auto_increment</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;id 主键&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>username</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>unique</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;用户名&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>password</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>32</span><span class=p>)</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=s1>&#39;123456&#39;</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;密码&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>name</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;姓名&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>gender</span><span class=w> </span><span class=n>tinyint</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;性别 男：1 女：2&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>phone</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>11</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>unique</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;手机号码&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>job</span><span class=w> </span><span class=n>tinyint</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;职位 1 班主任 2 讲师 3 学工主管 4 教研主管 5 咨询师&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>salary</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;薪资&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>entry_date</span><span class=w> </span><span class=nb>date</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;入职日期&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>image</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>255</span><span class=p>)</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;头像&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>creat_time</span><span class=w> </span><span class=n>datetime</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;创建日期&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>update_time</span><span class=w> </span><span class=n>datetime</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;更新日期&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w> </span><span class=k>comment</span><span class=w> </span><span class=s1>&#39;员工表&#39;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p><strong>表中一般都要有的基础字段</strong></p><p>基础字段（id，creat_time，update_time）</p><p>密码一般设置成32字节是因为进行md5加密之后固定是32字节</p><h3 id=查询修改删除>查询、修改、删除<a hidden class=anchor aria-hidden=true href=#查询修改删除>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>show</span><span class=w> </span><span class=n>tables</span><span class=p>;</span><span class=w> </span><span class=c1>-- 查询当前数据库的所有表
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>desc</span><span class=w> </span><span class=err>表名</span><span class=p>;</span><span class=w> </span><span class=c1>-- 查询表结构
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>show</span><span class=w> </span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=err>表名</span><span class=p>;</span><span class=w> </span><span class=c1>-- 查询建表语句
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>alter</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=k>add</span><span class=w> </span><span class=err>字段名</span><span class=w> </span><span class=err>类型</span><span class=p>(</span><span class=err>长度</span><span class=p>)</span><span class=w> </span><span class=p>[</span><span class=k>comment</span><span class=w> </span><span class=err>注释</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=err>约束</span><span class=p>];</span><span class=w> </span><span class=c1>-- 添加字段
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>alter</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=k>modify</span><span class=w> </span><span class=err>字段名</span><span class=w> </span><span class=err>新数据类型</span><span class=p>(</span><span class=err>长度</span><span class=p>);</span><span class=w> </span><span class=c1>-- 修改字段类型
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>alter</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=n>change</span><span class=w> </span><span class=err>旧字段名</span><span class=w> </span><span class=err>新字段名</span><span class=w> </span><span class=err>类型</span><span class=p>(</span><span class=err>长度</span><span class=p>)</span><span class=w> </span><span class=p>[</span><span class=k>comment</span><span class=w> </span><span class=err>注释</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=err>约束</span><span class=p>];</span><span class=w> </span><span class=c1>-- 修改字段名与字段类型
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>alter</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=k>drop</span><span class=w> </span><span class=k>column</span><span class=w> </span><span class=err>字段名</span><span class=p>;</span><span class=w> </span><span class=c1>-- 删除字段
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>alter</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=k>rename</span><span class=w> </span><span class=k>to</span><span class=w> </span><span class=err>新表名</span><span class=p>;</span><span class=w> </span><span class=c1>-- 修改表名
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>drop</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=p>[</span><span class=k>if</span><span class=w> </span><span class=k>exists</span><span class=p>]</span><span class=w> </span><span class=err>表名</span><span class=p>;</span><span class=w> </span><span class=c1>-- 删除表 删除之后，表中的数据也都会被删除
</span></span></span></code></pre></div><h2 id=dml-对表中的数据记录进行增删改>DML-对表中的数据记录进行增删改<a hidden class=anchor aria-hidden=true href=#dml-对表中的数据记录进行增删改>#</a></h2><h3 id=insert语句>insert语句<a hidden class=anchor aria-hidden=true href=#insert语句>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 指定字段添加数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=err>表名</span><span class=p>(</span><span class=err>字段名</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=err>字段名</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>values</span><span class=w> </span><span class=p>(</span><span class=err>值</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=err>值</span><span class=mi>2</span><span class=p>);</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 全部字段添加数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=k>values</span><span class=w> </span><span class=p>(</span><span class=err>值</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=err>值</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=p>...);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 批量添加数据（指定字段）
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=p>(</span><span class=err>字段名</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=err>字段名</span><span class=mi>2</span><span class=p>)</span><span class=w>  </span><span class=k>values</span><span class=w> </span><span class=p>(</span><span class=err>值</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=err>值</span><span class=mi>2</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=err>值</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=err>值</span><span class=mi>2</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 批量添加数据（全部字段）
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=k>values</span><span class=w> </span><span class=p>(</span><span class=err>值</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=err>值</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=p>...),</span><span class=w> </span><span class=p>(</span><span class=err>值</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=err>值</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=p>...);</span><span class=w>
</span></span></span></code></pre></div><p>主键如果会自增，在插入数据的时候可以给他一个null，这样在插入之后就会自增</p><p>当前时间可以用自带的函数now()获取</p><p>日期和字符串推荐用单引号括起来，但是使用双引号也是可以的</p><p>• 插入数据时，指定的字段顺序需要与值的顺序是—对应的。</p><p>• 字符串和日期型数据应该包含在引号中（单引号、双引号都可以）。</p><p>• 插入的数据大小/长度，应该在字段的规定范围内。</p><h3 id=update语句>update语句<a hidden class=anchor aria-hidden=true href=#update语句>#</a></h3><p>如果要更改多个字段，中间需要用,隔开，不是用的and</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 修改数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>update</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=k>set</span><span class=w> </span><span class=err>字段名</span><span class=mi>1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>值</span><span class=mi>1</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=err>字段名</span><span class=mi>2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>值</span><span class=mi>2</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=p>....</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=k>where</span><span class=w>  </span><span class=err>条件</span><span class=w> </span><span class=p>]</span><span class=w> </span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p><strong>修改语句的条件可以有，也可以没有，如果没有条件，则会修改整张表的所有数据</strong></p><h3 id=delete语句>delete语句<a hidden class=anchor aria-hidden=true href=#delete语句>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 删除数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>delete</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=p>[</span><span class=k>where</span><span class=w> </span><span class=err>条件</span><span class=p>];</span><span class=w>
</span></span></span></code></pre></div><ol><li><p>DELETE 语句的条件可以有，也可以没有，如果没有条件，则会删除整张表的所有数据。</p></li><li><p>DELETE 语句<strong>不能删除某一个字段的值</strong>（如果要操作，可以使用UPDATE，将该字段的值置为NULL），一次就要删一行的数据</p></li></ol><h2 id=dql-查询语句>DQL-查询语句<a hidden class=anchor aria-hidden=true href=#dql-查询语句>#</a></h2><p>完整的DQL语法：</p><p>![](Day05 MySQL数据库.assets/1732669744154-b03c8b0b-8ba5-4005-9bda-1797c4a08bbd.png)</p><h3 id=dql-基本查询>DQL-基本查询<a hidden class=anchor aria-hidden=true href=#dql-基本查询>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 查询多个字段
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>字段</span><span class=mi>1</span><span class=p>,</span><span class=err>字段</span><span class=mi>2</span><span class=p>,</span><span class=err>字段</span><span class=mi>3</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=err>表名</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 查询所有字段(通配符)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=err>表名</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 为查询字段设置别名，as关键字可以省略
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>字段</span><span class=mi>1</span><span class=w> </span><span class=p>[</span><span class=k>as</span><span class=w> </span><span class=err>别名</span><span class=mi>1</span><span class=p>],</span><span class=w> </span><span class=err>字段</span><span class=mi>2</span><span class=w> </span><span class=p>[</span><span class=k>as</span><span class=w> </span><span class=err>别名</span><span class=mi>2</span><span class=p>]</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=err>表名</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 去除重复记录
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=k>distinct</span><span class=w> </span><span class=err>字段列表</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=err>表名</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><ul><li>号代表查询所有字段，在实际开发中尽量少用（不直观、影响效率）。</li></ul><p>把所有字段罗列出来的查询方法在项目中比较常用，因为效率比较高，*的话没那么常用</p><p>as取别名的时候，有一种情况需要加引号，就是中间有空格，&lsquo;姓 名&rsquo;这种别名的时候需要加引号</p><h3 id=dql-条件查询>DQL-条件查询<a hidden class=anchor aria-hidden=true href=#dql-条件查询>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 条件查询
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>字段列表</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=err>条件列表</span><span class=w> </span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><table><thead><tr><th><strong>比较运算符</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td>></td><td>大于</td></tr><tr><td>>=</td><td>大于等于</td></tr><tr><td>&#171;/font></td><td>小于</td></tr><tr><td>&lt;=</td><td>小于等于</td></tr><tr><td>=</td><td>等于</td></tr><tr><td>&lt;> 或 !=</td><td>不等于</td></tr><tr><td>between &mldr; and &mldr;</td><td>在某个范围之内(含最小、最大值)</td></tr><tr><td>in(&mldr;)</td><td>在in之后的列表中的值，多选一</td></tr><tr><td>like 占位符</td><td>模糊匹配(_匹配单个字符, %匹配任意个字符0或者多个)</td></tr><tr><td>is null</td><td>是null</td></tr></tbody></table><p>in(&mldr;)多选一的关系，只要满足其中的一个，就是符合条件的</p><p>between and 既包含最小值又包含最大值，and之前要写最小值，and之后写最大值</p><p>%代表任意个字符，可以是0个也可以是多个</p><table><thead><tr><th><strong>逻辑运算符</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td>and 或 &&</td><td>并且 (多个条件同时成立)</td></tr><tr><td>or 或</td><td></td></tr><tr><td>not 或 !</td><td>非 , 不是</td></tr></tbody></table><h3 id=dql-分组查询>DQL-分组查询<a hidden class=anchor aria-hidden=true href=#dql-分组查询>#</a></h3><p>聚合函数：将一列数据作为一个整体，进行纵向计算，所以里边的参数可以写的是列名</p><table><thead><tr><th style=text-align:center><strong>函数</strong></th><th style=text-align:center><strong>功能</strong></th></tr></thead><tbody><tr><td style=text-align:center>count</td><td style=text-align:center>统计数量</td></tr><tr><td style=text-align:center>max</td><td style=text-align:center>最大值</td></tr><tr><td style=text-align:center>min</td><td style=text-align:center>最小值</td></tr><tr><td style=text-align:center>avg</td><td style=text-align:center>平均值</td></tr><tr><td style=text-align:center>sum</td><td style=text-align:center>求和</td></tr></tbody></table><p><strong>所有的聚合函数</strong>**不参与null值**<strong>的统计</strong></p><p>count(*)就是统计表中的总数据量</p><p>count(常量例如1) 表示的含义，就是说统计出来一条数据就会标识成为1，最后统计1的数量</p><p>优先使用count(*)，底层做了优化，性能最高</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 分组查询
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>字段列表</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=p>[</span><span class=k>where</span><span class=w> </span><span class=err>条件列表</span><span class=p>]</span><span class=w> </span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=err>分组字段名</span><span class=w> </span><span class=p>[</span><span class=k>having</span><span class=w> </span><span class=err>分组后过滤条件</span><span class=p>];</span><span class=w>
</span></span></span></code></pre></div><p><strong>where与having的区别：</strong></p><p>1．执行时机不同：where是分组之前进行过滤，不满足where条件，不参与分组；而having是分组之后对结果进行过滤。</p><p>2． 判断条件不同：where不能对聚合函数进行判断，而having可以。</p><p><strong>其他注意：</strong></p><p>1.分组之后，查询的字段一般为聚合函数和分组字段，查询其他字段无任何意义。</p><p>注意：分组之后，select后的字段列表就不能随意再写了，能写的一般是分组字段+聚合函数</p><p>where后不能接着聚合函数</p><p>2.执行顺序：where > 聚合函数 >having。</p><h3 id=dql-排序查询>DQL-排序查询<a hidden class=anchor aria-hidden=true href=#dql-排序查询>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 排序查询
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>字段列表</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=p>[</span><span class=k>where</span><span class=w> </span><span class=err>条件列表</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=err>分组字段名</span><span class=w> </span><span class=k>having</span><span class=w> </span><span class=err>分组后过滤条件</span><span class=p>]</span><span class=w> </span><span class=k>order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=err>排序字段</span><span class=w> </span><span class=err>排序方式</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p>排序方式：升序（asc），降序（desc）；默认为升序asc，是可以不写的。</p><p>如果是多字段排序，当第一个字段值相同时，才会根据第二个字段进行排序。</p><h3 id=dql-分页查询>DQL-分页查询<a hidden class=anchor aria-hidden=true href=#dql-分页查询>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 排序查询
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>字段</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=err>表名</span><span class=w> </span><span class=p>[</span><span class=k>where</span><span class=w> </span><span class=err>条件</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=err>分组字段</span><span class=w> </span><span class=k>having</span><span class=w> </span><span class=err>过滤条件</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=err>排序字段</span><span class=p>]</span><span class=w> </span><span class=k>limit</span><span class=w> </span><span class=err>起始索引</span><span class=p>,</span><span class=err>查询记录数</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p>说明：</p><p>1.起始索引从0开始。</p><p>2.分页查询是数据库的方言，不同的数据库有不同的实现，MySQL中是LIMIT。</p><p>3.如果起始索引为0，起始索引可以省略，直接简写为 limit 10。</p><p>开发中传递进来的是页码</p><p>起始索引 = （页码-1）*每页展示记录数</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://wqnm1gb.github.io/posts/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/><span class=title>« 上一页</span><br><span>我的第一篇博客</span>
</a><a class=next href=https://wqnm1gb.github.io/posts/day06-java%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93/><span class=title>下一页 »</span><br><span></span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://wqnm1gb.github.io/>三狗子的博客</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>